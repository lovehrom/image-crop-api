# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ ‚Äî Image Crop API

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ

**–î–∞—Ç–∞:** 2026-02-22
**–í—Ä–µ–º—è:** 10:15 UTC+5
**–°—Ç–∞—Ç—É—Å:** –ì–û–¢–û–í –ö –î–ï–ü–õ–û–Æ

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 16
- **–ü—Ä–æ—à–ª–æ:** 16 ‚úÖ
- **–ù–µ –ø—Ä–æ—à–ª–æ:** 0 ‚ùå
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å:** 100%

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

#### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (4/4)
1. ‚úÖ Health Check ‚Äî —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
2. ‚úÖ Basic Crop (800x600) ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
3. ‚úÖ Resize Smaller (500x400) ‚Äî —É–º–µ–Ω—å—à–µ–Ω–∏–µ
4. ‚úÖ Format Change to JPEG ‚Äî —Å–º–µ–Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞

#### ‚úÖ –í—Ä–∞—â–µ–Ω–∏–µ (4/4)
5. ‚úÖ Rotate 90¬∞ ‚Äî –ø–æ–≤–æ—Ä–æ—Ç 90¬∞
6. ‚úÖ Rotate 180¬∞ ‚Äî –ø–æ–≤–æ—Ä–æ—Ç 180¬∞
7. ‚úÖ Rotate 270¬∞ ‚Äî –ø–æ–≤–æ—Ä–æ—Ç 270¬∞
8. ‚úÖ Rotate Custom 45¬∞ ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —É–≥–æ–ª

#### ‚úÖ –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ (2/2)
9. ‚úÖ Border Radius 20px ‚Äî —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ 20px
10. ‚úÖ Border Radius 10px ‚Äî —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ 10px

#### ‚úÖ –û–±—Ä–µ–∑–∫–∞ (2/2)
11. ‚úÖ Crop with Coordinates (100,100, 400x400)
12. ‚úÖ Complex Request ‚Äî resize + rotate + crop + format

#### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (4/4)
13. ‚úÖ Missing File ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∞–π–ª–∞ (400)
14. ‚úÖ Invalid Width ‚Äî –Ω–µ–≤–µ—Ä–Ω–∞—è —à–∏—Ä–∏–Ω–∞ (400)
15. ‚úÖ Invalid Angle ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —É–≥–æ–ª (400)
16. ‚úÖ Invalid Format ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (400)

---

## üìÅ –§–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã –∫ –¥–µ–ø–ª–æ—é

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `index.js` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Express
- ‚úÖ `package.json` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ `vercel.json` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
- ‚úÖ `.gitignore` ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏—è Git
- ‚úÖ `README.md` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
- ‚úÖ `src/controllers/crop.js` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ crop
- ‚úÖ `src/controllers/health.js` ‚Äî health check
- ‚úÖ `src/middleware/validate.js` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ `src/middleware/fileValidator.js` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ `src/routes/index.js` ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ `src/services/imageService.js` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Sharp)
- ‚úÖ `src/utils/constants.js` ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- ‚úÖ `src/utils/fileUtils.js` ‚Äî —É—Ç–∏–ª–∏—Ç—ã —Ñ–∞–π–ª–æ–≤

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `tester.js` ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ç–µ—Å—Ç–µ—Ä
- ‚úÖ `create-test-image.js` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ `test_image.png` ‚Äî —Ç–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (1000x800)
- ‚úÖ `TEST_REPORT_AUTONOMOUS.md` ‚Äî –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

---

## üöÄ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Runtime –∏ framework
- **Node.js:** ^18.0.0
- **Express.js:** ^4.18.0

### Image processing
- **Sharp:** ^0.33.0 ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –î—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **Multer:** ^1.4.5-lts.1 ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- **Dotenv:** ^16.3.1 ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Form-data:** ^4.0.0 ‚Äî multipart/form-data
- **Axios:** ^1.13.5 ‚Äî HTTP –∫–ª–∏–µ–Ω—Ç

---

## üìã API Endpoints

### POST /crop
–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –æ–±—Ä–µ–∑–∫–æ–π, –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞, –≤—Ä–∞—â–µ–Ω–∏–µ–º –∏ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º —É–≥–ª–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (multipart/form-data):**
- `file` (required) ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (PNG/JPG, max 5MB)
- `width` (optional) ‚Äî –Ω–æ–≤–∞—è —à–∏—Ä–∏–Ω–∞ (1-10000px)
- `height` (optional) ‚Äî –Ω–æ–≤–∞—è –≤—ã—Å–æ—Ç–∞ (1-10000px)
- `x` (optional) ‚Äî X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –æ–±—Ä–µ–∑–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
- `y` (optional) ‚Äî Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –æ–±—Ä–µ–∑–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
- `cropWidth` (optional) ‚Äî —à–∏—Ä–∏–Ω–∞ –æ–±–ª–∞—Å—Ç–∏ –æ–±—Ä–µ–∑–∫–∏
- `cropHeight` (optional) ‚Äî –≤—ã—Å–æ—Ç–∞ –æ–±–ª–∞—Å—Ç–∏ –æ–±—Ä–µ–∑–∫–∏
- `angle` (optional) ‚Äî —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ (0-360¬∞)
- `radius` (optional) ‚Äî —Ä–∞–¥–∏—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è (10-50px)
- `format` (optional) ‚Äî —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (png, jpeg, webp)

**–û—Ç–≤–µ—Ç:**
- Status: 200 OK
- Content-Type: image/* (PNG/JPEG/WebP)
- Body: –±–∏–Ω–∞—Ä–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### GET /health
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API.

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "healthy",
  "version": "1.0.0",
  "timestamp": "2026-02-22T05:15:30Z"
}
```

---

## üîç –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 5MB
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: 10000x10000px
- –†–∞–¥–∏—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è: 10-50px
- –£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞: 0-360¬∞
- –§–æ—Ä–º–∞—Ç—ã –≤–≤–æ–¥–∞: PNG, JPG
- –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞: PNG, JPEG, WebP

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó (TZ.md):

- [x] Basic Crop ‚Äî –æ–±—Ä–µ–∑–∫–∞ –ø–æ —Ä–∞–∑–º–µ—Ä–∞–º
- [x] Resize ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- [x] Rotate (90¬∞, 180¬∞, 270¬∞) ‚Äî –ø–æ–≤–æ—Ä–æ—Ç
- [x] Rotate (custom angle) ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —É–≥–æ–ª
- [x] Border Radius (10-50px) ‚Äî —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤
- [x] Health Check ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
- [x] –í–æ–∑–≤—Ä–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Content-Type –æ—Ç–≤–µ—Ç–∞

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –î–µ–ø–ª–æ–π –Ω–∞ Vercel
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Vercel CLI (–µ—Å–ª–∏ –Ω–µ—Ç)
npm i -g vercel

# –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
vercel deploy

# –ü–æ–ª—É—á–∏—Ç—å URL –¥–ª—è RapidAPI
```

### 2. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ RapidAPI

#### –°–æ–∑–¥–∞–Ω–∏–µ API –≤ RapidAPI Studio
1. –í–æ–π—Ç–∏ –≤ RapidAPI Studio
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞ (General):
   - –ù–∞–∑–≤–∞–Ω–∏–µ: Image Crop API
   - –û–ø–∏—Å–∞–Ω–∏–µ: Professional image cropping API with rotation and border radius support
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: Image Processing, Utilities
   - –õ–æ–≥–æ—Ç–∏–ø: –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ endpoints (Definitions)
1. –î–æ–±–∞–≤–∏—Ç—å `GET /health`
2. –î–æ–±–∞–≤–∏—Ç—å `POST /crop` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
   - file (body, binary)
   - width (body, number)
   - height (body, number)
   - x (body, number)
   - y (body, number)
   - cropWidth (body, number)
   - cropHeight (body, number)
   - angle (body, number)
   - radius (body, number)
   - format (body, string)

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Docs)
1. –°–æ–∑–¥–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ API
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (curl, JavaScript, Python)
3. –û–ø–∏—Å–∞—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
4. –û–ø–∏—Å–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –∏ –æ—à–∏–±–∫–∏

#### Gateway
1. –í—Å—Ç–∞–≤–∏—Ç—å URL —Å Vercel
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é:
   - GET /health -> /health
   - POST /crop -> /crop

#### –¢–∞—Ä–∏—Ñ—ã (Monetize)
1. –°–æ–∑–¥–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ (Free):
   - 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
   - 10MB —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Ç–∞—Ä–∏—Ñ (Basic):
   - 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
   - $9.99/–º–µ—Å—è—Ü
   - 50MB —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
3. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–∞—Ä–∏—Ñ (Pro):
   - 10000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
   - $49.99/–º–µ—Å—è—Ü
   - 500MB —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞

#### –ü—É–±–ª–∏–∫–∞—Ü–∏—è
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è
2. –ù–∞–∂–∞—Ç—å "Publish"
3. API –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –Ω–∞ RapidAPI!

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–±–Ω–æ–≤–∏—Ç—å README.md —Å URL –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö (Python, PHP, Java)
- –°–æ–∑–¥–∞—Ç—å OpenAPI/Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **–ü—Ä–æ–µ–∫—Ç Image Crop API –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é**

–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (100%), –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω
- ‚úÖ –í—Å–µ —Ñ–∏—á–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (crop, resize, rotate, border radius)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (16/16 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README.md, PROJECT_STATUS.md)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è (vercel.json)

**–ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å:**
- –î–µ–ø–ª–æ–π –Ω–∞ Vercel
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ RapidAPI
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–∏–º —ç—Ç–∞–ø–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!
